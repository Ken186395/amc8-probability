<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AMC 8 Geometry ¬∑ 3D Interactive Lab</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background: radial-gradient(circle at top, #fdfbff 0, #eef1f6 40%, #e3e6ee 100%);
      color: #111827;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    header {
      padding: 16px 24px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      backdrop-filter: blur(16px);
      background: rgba(255, 255, 255, 0.8);
      border-bottom: 1px solid rgba(148, 163, 184, 0.3);
      position: sticky;
      top: 0;
      z-index: 10;
    }

    header h1 {
      font-size: 1.3rem;
      font-weight: 700;
      letter-spacing: 0.04em;
    }

    header .sub-title {
      font-size: 0.85rem;
      color: #6b7280;
    }

    header a {
      font-size: 0.9rem;
      text-decoration: none;
      padding: 8px 14px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      background: white;
      color: #111827;
      box-shadow: 0 2px 6px rgba(15, 23, 42, 0.08);
      cursor: pointer;
      transition: transform 0.12s ease, boxshadow 0.12s ease,
        background 0.12s ease;
    }

    header a:hover {
      transform: translateY(-1px);
      box-shadow: 0 6px 18px rgba(15, 23, 42, 0.16);
      background: #f9fafb;
    }

    main {
      flex: 1;
      display: flex;
      padding: 16px;
      gap: 16px;
    }

    .panel {
      background: rgba(255, 255, 255, 0.96);
      border-radius: 18px;
      padding: 16px 18px;
      box-shadow: 0 12px 40px rgba(15, 23, 42, 0.12);
      border: 1px solid rgba(148, 163, 184, 0.25);
    }

    .left-panel {
      flex: 0 0 360px;
      display: flex;
      flex-direction: column;
      gap: 12px;
      max-width: 420px;
    }

    .right-panel {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 12px;
      min-width: 0;
    }

    .section-title {
      font-size: 1rem;
      font-weight: 700;
      margin-bottom: 4px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .section-title span.badge {
      font-size: 0.75rem;
      font-weight: 600;
      padding: 2px 8px;
      border-radius: 999px;
      background: #eef2ff;
      color: #3730a3;
    }

    label {
      font-size: 0.85rem;
      color: #4b5563;
    }

    select {
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.8);
      font-size: 0.9rem;
      outline: none;
      background: #f9fafb;
    }

    .formula-card,
    .hint-card {
      padding: 10px 12px;
      border-radius: 14px;
      background: #f9fafb;
      border: 1px solid rgba(209, 213, 219, 0.9);
    }

    .formula-card code {
      font-family: SFMono-Regular, ui-monospace, Menlo, Monaco, Consolas,
        "Liberation Mono", "Courier New", monospace;
      font-size: 0.85rem;
      background: #111827;
      color: #e5e7eb;
      padding: 2px 6px;
      border-radius: 999px;
    }

    .example-block {
      margin-top: 4px;
      padding: 8px 10px;
      border-radius: 10px;
      background: #eef2ff;
      font-size: 0.82rem;
      color: #1f2937;
    }

    ul {
      padding-left: 18px;
      font-size: 0.85rem;
      color: #4b5563;
    }

    .controls-panel {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 4px;
    }

    .control-row {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 0.8rem;
    }

    .control-row span.label {
      width: 40px;
      color: #4b5563;
    }

    .control-row input[type="range"] {
      flex: 1;
    }

    .control-row span.value {
      width: 40px;
      text-align: right;
      font-variant-numeric: tabular-nums;
      color: #111827;
      font-weight: 600;
    }

    #three-container {
      flex: 1;
      border-radius: 16px;
      overflow: hidden;
      background: radial-gradient(circle at top, #eef2ff, #1f2937);
      position: relative;
      min-height: 340px;
    }

    #three-overlay {
      position: absolute;
      left: 12px;
      top: 10px;
      z-index: 2;
      font-size: 0.8rem;
      color: #e5e7eb;
      background: rgba(15, 23, 42, 0.55);
      padding: 6px 10px;
      border-radius: 999px;
      backdrop-filter: blur(10px);
    }

    #rendererCanvas {
      width: 100%;
      height: 100%;
      display: block;
    }

    .tips-card {
      padding: 10px 12px;
      border-radius: 16px;
      background: #f9fafb;
      border: 1px dashed rgba(148, 163, 184, 0.9);
      font-size: 0.82rem;
      color: #4b5563;
    }
  </style>
</head>
<body>
  <header>
    <div>
      <h1>AMC 8 Geometry ¬∑ 3D Interactive Lab</h1>
      <div class="sub-title">Volume ¬∑ Surface Area ¬∑ Nets ¬∑ Spatial Visualization</div>
    </div>
    <a href="index.html">‚Üê Back to Home</a>
  </header>

  <main>
    <!-- Left Panel -->
    <section class="panel left-panel">
      <div class="section-title">
        Choose a Geometry Topic
        <span class="badge">AMC 8</span>
      </div>

      <div class="select-row">
        <label for="problemSelect">Topic:</label>
        <select id="problemSelect">
          <option value="box">Rectangular Prism (Volume & Surface Area)</option>
          <option value="cube-net">Cube & Net</option>
        </select>
        <div id="problem-meta"></div>
      </div>

      <div class="small-title">Formulas</div>
      <div class="formula-card">
        <div id="formula-text"></div>
        <div class="example-block" id="example-text"></div>
      </div>

      <div class="small-title" style="margin-top:8px;">AMC 8 Strategy Tips</div>
      <div class="hint-card" id="hint-text"></div>

      <!-- Rectangular Prism Controls -->
      <div class="controls-panel" id="box-controls">
        <div class="small-title" style="margin-top:4px;">Adjust Dimensions</div>

        <div class="control-row">
          <span class="label">L</span>
          <input id="lenSlider" type="range" min="1" max="10" step="1" value="4" />
          <span class="value"><span id="lenValue">4</span> u</span>
        </div>

        <div class="control-row">
          <span class="label">W</span>
          <input id="widSlider" type="range" min="1" max="10" step="1" value="3" />
          <span class="value"><span id="widValue">3</span> u</span>
        </div>

        <div class="control-row">
          <span class="label">H</span>
          <input id="heiSlider" type="range" min="1" max="10" step="1" value="2" />
          <span class="value"><span id="heiValue">2</span> u</span>
        </div>

        <div class="result-row">
          <span class="result-label">Volume:</span>
          <span class="result-value" id="volumeValue"></span>
        </div>

        <div class="result-row">
          <span class="result-label">Surface Area:</span>
          <span class="result-value" id="surfaceValue"></span>
        </div>
      </div>

      <!-- Cube Controls -->
      <div class="controls-panel" id="cube-controls" style="display:none;">
        <div class="small-title" style="margin-top:4px;">Adjust Edge Length</div>

        <div class="control-row">
          <span class="label">a</span>
          <input id="cubeSlider" type="range" min="1" max="8" step="1" value="3" />
          <span class="value"><span id="cubeValue">3</span> u</span>
        </div>

        <div class="result-row">
          <span class="result-label">Volume:</span>
          <span class="result-value" id="cubeVolume"></span>
        </div>

        <div class="result-row">
          <span class="result-label">Surface Area:</span>
          <span class="result-value" id="cubeSurface"></span>
        </div>

        <div class="result-row">
          <span class="result-label">Net:</span>
          <span class="result-value">6 equal squares forming a cross shape</span>
        </div>
      </div>
    </section>

    <!-- Right Panel (3D View) -->
    <section class="panel right-panel">
      <div class="section-title">
        3D Interactive Visualization
        <span class="badge">Drag to Rotate</span>
      </div>

      <div id="three-container">
        <div id="three-overlay">Drag to rotate ¬∑ Scroll to zoom</div>
        <canvas id="rendererCanvas"></canvas>
      </div>

      <div class="tips-card">
        üß† <b>How this helps AMC 8:</b>
        <ul>
          <li>Visualize length, width, height clearly.</li>
          <li>Understand how volume and surface area change when dimensions change.</li>
          <li>Recognize cube nets and surface unfolding patterns.</li>
          <li>Train spatial reasoning for 3D‚Üí2D conversion.</li>
        </ul>
      </div>
    </section>
  </main>
  <!-- Three.js Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.161.0/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.161.0/examples/js/controls/OrbitControls.js"></script>

  <script>
    // =============================
    // Text Content for Topics
    // =============================

    const problems = {
      "box": {
        meta: "Common AMC 8 topic: volume, surface area, packing cubes, painting faces.",
        formula:
          "Volume: <code>V = L √ó W √ó H</code><br>Surface Area: <code>S = 2(LW + LH + WH)</code>",
        example:
          "Example: A rectangular prism with L=4, W=3, H=2.<br>Volume = 4 √ó 3 √ó 2 = 24 cubic units.<br>Surface Area = 2(12 + 8 + 6) = 52 sq units.",
        hint:
          "AMC 8 often gives box problems:<ul>" +
          "<li>Count how many small cubes fit inside (use volume).</li>" +
          "<li>Find how much paint or wrapping paper is needed (use surface area).</li>" +
          "<li>Careful: lengths must be read correctly from diagrams.</li>" +
          "<li>Units matter! Make sure all match.</li>" +
          "</ul>"
      },

      "cube-net": {
        meta: "Cube volume, surface area, nets, shortest path on surfaces.",
        formula:
          "Volume: <code>V = a¬≥</code><br>Surface Area: <code>S = 6a¬≤</code>",
        example:
          "Example: A cube with edge a = 3.<br>Volume = 27 cubic units.<br>Surface Area = 54 sq units.<br>Net: 6 equal squares.",
        hint:
          "AMC 8 cube questions often ask:<ul>" +
          "<li>Which nets can fold into a cube?</li>" +
          "<li>Shortest path on a cube surface (flatten the net).</li>" +
          "<li>Painted cube problems (count faces with 1, 2, or 3 painted sides).</li>" +
          "</ul>"
      }
    };

    // =============================
    // HTML Elements
    // =============================

    const problemSelect = document.getElementById("problemSelect");
    const metaEl = document.getElementById("problem-meta");
    const formulaEl = document.getElementById("formula-text");
    const exampleEl = document.getElementById("example-text");
    const hintEl = document.getElementById("hint-text");

    const boxControls = document.getElementById("box-controls");
    const cubeControls = document.getElementById("cube-controls");

    const lenSlider = document.getElementById("lenSlider");
    const widSlider = document.getElementById("widSlider");
    const heiSlider = document.getElementById("heiSlider");

    const lenValue = document.getElementById("lenValue");
    const widValue = document.getElementById("widValue");
    const heiValue = document.getElementById("heiValue");

    const volumeValue = document.getElementById("volumeValue");
    const surfaceValue = document.getElementById("surfaceValue");

    const cubeSlider = document.getElementById("cubeSlider");
    const cubeValue = document.getElementById("cubeValue");
    const cubeVolume = document.getElementById("cubeVolume");
    const cubeSurface = document.getElementById("cubeSurface");

    // =============================
    // Update Text Section
    // =============================

    function updateProblemText(key) {
      const p = problems[key];
      metaEl.innerHTML = p.meta;
      formulaEl.innerHTML = p.formula;
      exampleEl.innerHTML = p.example;
      hintEl.innerHTML = p.hint;

      if (key === "box") {
        boxControls.style.display = "flex";
        cubeControls.style.display = "none";
      } else {
        boxControls.style.display = "none";
        cubeControls.style.display = "flex";
      }
    }

    function updateBoxMath() {
      const L = Number(lenSlider.value);
      const W = Number(widSlider.value);
      const H = Number(heiSlider.value);

      lenValue.textContent = L;
      widValue.textContent = W;
      heiValue.textContent = H;

      const V = L * W * H;
      const S = 2 * (L * W + L * H + W * H);

      volumeValue.textContent = `${V} cubic units`;
      surfaceValue.textContent = `${S} square units`;
    }

    function updateCubeMath() {
      const a = Number(cubeSlider.value);
      cubeValue.textContent = a;

      const V = a * a * a;
      const S = 6 * a * a;

      cubeVolume.textContent = `${V} cubic units`;
      cubeSurface.textContent = `${S} square units`;
    }

    // =============================
    // THREE.JS SETUP
    // =============================

    let scene, camera, renderer, controls;
    let currentGroup = null;

    function initThree() {
      const canvas = document.getElementById("rendererCanvas");
      const container = document.getElementById("three-container");

      scene = new THREE.Scene();
      scene.background = new THREE.Color(0x0f172a);

      const aspect = container.clientWidth / container.clientHeight;
      camera = new THREE.PerspectiveCamera(45, aspect, 0.1, 100);
      camera.position.set(6, 5, 8);

      renderer = new THREE.WebGLRenderer({
        canvas,
        antialias: true
      });
      renderer.setPixelRatio(window.devicePixelRatio);
      renderer.setSize(container.clientWidth, container.clientHeight);

      // Lighting
      scene.add(new THREE.HemisphereLight(0xffffff, 0x0f172a, 0.7));

      const dir = new THREE.DirectionalLight(0xffffff, 0.9);
      dir.position.set(5, 10, 7);
      scene.add(dir);

      scene.add(new THREE.AmbientLight(0xffffff, 0.2));

      // Ground Grid
      const grid = new THREE.GridHelper(20, 20, 0x6b7280, 0x111827);
      grid.position.y = -2;
      scene.add(grid);

      // Controls
      controls = new THREE.OrbitControls(camera, renderer.domElement);
      controls.enableDamping = true;
      controls.dampingFactor = 0.08;

      window.addEventListener("resize", onWindowResize);
      animate();
    }

    function onWindowResize() {
      const container = document.getElementById("three-container");
      const w = container.clientWidth;
      const h = container.clientHeight;

      camera.aspect = w / h;
      camera.updateProjectionMatrix();
      renderer.setSize(w, h);
    }

    function animate() {
      requestAnimationFrame(animate);
      controls.update();
      renderer.render(scene, camera);
    }

    // =============================
    // Draw Rectangular Prism
    // =============================

    function createBox(L, W, H) {
      const group = new THREE.Group();
      const geo = new THREE.BoxGeometry(L, H, W);

      const mat = new THREE.MeshStandardMaterial({
        color: 0x4f46e5,
        metalness: 0.3,
        roughness: 0.25,
        opacity: 0.95,
        transparent: true
      });

      const mesh = new THREE.Mesh(geo, mat);
      group.add(mesh);

      const edges = new THREE.EdgesGeometry(geo);
      const line = new THREE.LineSegments(
        edges,
        new THREE.LineBasicMaterial({ color: 0xffffff })
      );
      group.add(line);

      group.position.y = H / 2 - 1;
      return group;
    }

    // =============================
    // Draw Cube + Net
    // =============================

    function createCubeWithNet(a) {
      const group = new THREE.Group();

      const cubeGeo = new THREE.BoxGeometry(a, a, a);
      const cubeMat = new THREE.MeshStandardMaterial({
        color: 0x10b981,
        metalness: 0.3,
        roughness: 0.25,
        transparent: true,
        opacity: 0.95
      });

      const cube = new THREE.Mesh(cubeGeo, cubeMat);
      const edges = new THREE.EdgesGeometry(cubeGeo);
      const outline = new THREE.LineSegments(
        edges,
        new THREE.LineBasicMaterial({ color: 0xffffff })
      );

      const cubeGroup = new THREE.Group();
      cubeGroup.add(cube);
      cubeGroup.add(outline);
      cubeGroup.position.set(-a * 1.3, 0, 0);
      group.add(cubeGroup);

      // Net
      const planeGeo = new THREE.PlaneGeometry(a, a);
      const planeMat = new THREE.MeshStandardMaterial({
        color: 0x0ea5e9,
        side: THREE.DoubleSide,
        opacity: 0.9,
        transparent: true
      });

      const netGroup = new THREE.Group();
      const positions = [
        [0, 0, 0],
        [0, a, 0],
        [0, -a, 0],
        [-a, 0, 0],
        [a, 0, 0],
        [0, 0, a]
      ];

      positions.forEach(([x, y, z]) => {
        const p = new THREE.Mesh(planeGeo, planeMat.clone());
        const e = new THREE.EdgesGeometry(planeGeo);
        const l = new THREE.LineSegments(
          e,
          new THREE.LineBasicMaterial({ color: 0x0f172a })
        );

        const g = new THREE.Group();
        g.add(p);
        g.add(l);
        g.position.set(x, y, z);
        netGroup.add(g);
      });

      netGroup.rotation.x = -Math.PI / 2;
      netGroup.position.set(a * 1.6, -1.5, 0);
      group.add(netGroup);

      return group;
    }

    // =============================
    // Update 3D View
    // =============================

    function update3DForBox() {
      const L = Number(lenSlider.value);
      const W = Number(widSlider.value);
      const H = Number(heiSlider.value);

      if (currentGroup) scene.remove(currentGroup);
      currentGroup = createBox(L, W, H);
      scene.add(currentGroup);
    }

    function update3DForCube() {
      const a = Number(cubeSlider.value);

      if (currentGroup) scene.remove(currentGroup);
      currentGroup = createCubeWithNet(a);
      scene.add(currentGroup);
    }

    // =============================
    // Event Listeners
    // =============================

    problemSelect.addEventListener("change", () => {
      const key = problemSelect.value;
      updateProblemText(key);

      if (key === "box") {
        updateBoxMath();
        update3DForBox();
      } else {
        updateCubeMath();
        update3DForCube();
      }
    });

    lenSlider.addEventListener("input", () => {
      updateBoxMath();
      update3DForBox();
    });

    widSlider.addEventListener("input", () => {
      updateBoxMath();
      update3DForBox();
    });

    heiSlider.addEventListener("input", () => {
      updateBoxMath();
      update3DForBox();
    });

    cubeSlider.addEventListener("input", () => {
      updateCubeMath();
      update3DForCube();
    });

    // =============================
    // INITIALIZE EVERYTHING
    // =============================

    updateProblemText("box");
    updateBoxMath();
    updateCubeMath();

    initThree();
    update3DForBox();
  </script>

</body>
</html>


